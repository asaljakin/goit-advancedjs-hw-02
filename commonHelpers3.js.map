{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst localStorageKey = \"feedback-form-state\";\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', throttle(onFormData, 500));\nform.addEventListener('submit', onSubmitForm);\n\nlet dataForm = JSON.parse(localStorage.getItem(localStorageKey)) || {};\nconst { email, message } = form.elements;\nrefreshPage();\n\nfunction refreshPage() {\n    if (dataForm) {\n        email.value = dataForm.email || '';\n        message.value = dataForm.message || '';\n    }\n}\n\nfunction onFormData(evt) {\n    dataForm[evt.target.name] = evt.target.value;\n    localStorage.setItem(localStorageKey, JSON.stringify(dataForm));\n}\n\nfunction onSubmitForm(evt) {\n    evt.preventDefault();\n\n    if (dataForm && (!dataForm.email || !dataForm.message)) {\n        alert(\"Заповніть всі дані!!!\");\n        return;\n    }\n\n    console.log(JSON.parse(localStorage.getItem(localStorageKey)));\n    evt.currentTarget.reset();\n    localStorage.removeItem(localStorageKey);\n    dataForm = {};\n}"],"names":["localStorageKey","form","throttle","onFormData","onSubmitForm","dataForm","email","message","refreshPage","evt"],"mappings":"wIAEA,MAAMA,EAAkB,sBAClBC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,EAASC,EAAY,GAAG,CAAC,EACxDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQL,CAAe,CAAC,GAAK,GACpE,KAAM,CAAE,MAAAM,EAAO,QAAAC,GAAYN,EAAK,SAChCO,IAEA,SAASA,GAAc,CACfH,IACAC,EAAM,MAAQD,EAAS,OAAS,GAChCE,EAAQ,MAAQF,EAAS,SAAW,GAE5C,CAEA,SAASF,EAAWM,EAAK,CACrBJ,EAASI,EAAI,OAAO,MAAQA,EAAI,OAAO,MACvC,aAAa,QAAQT,EAAiB,KAAK,UAAUK,CAAQ,CAAC,CAClE,CAEA,SAASD,EAAaK,EAAK,CAGvB,GAFAA,EAAI,eAAc,EAEdJ,IAAa,CAACA,EAAS,OAAS,CAACA,EAAS,SAAU,CACpD,MAAM,uBAAuB,EAC7B,MACH,CAED,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQL,CAAe,CAAC,CAAC,EAC7DS,EAAI,cAAc,QAClB,aAAa,WAAWT,CAAe,EACvCK,EAAW,CAAA,CACf"}